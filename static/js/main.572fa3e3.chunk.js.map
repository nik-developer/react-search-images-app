{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/NewsApi.js","components/Modal/Modal.js","App.js","index.js"],"names":["Searchbar","state","searchQuery","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","onClick","src","alt","ImageGallery","collection","map","id","Button","amountRow","Math","floor","window","innerWidth","currentPage","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","addEventListener","removeEventListener","image","createPortal","App","isLoading","showModal","onChangeQuery","query","fetchCollection","options","newsApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","finally","openImage","dataset","toggleModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.572fa3e3.chunk.js","sourcesContent":["\r\nimport React, {Component} from \"react\"\r\n\r\nclass Searchbar extends Component {\r\n    state = {searchQuery: ''};\r\n\r\n    handleChange = e => {\r\n        this.setState({searchQuery: e.currentTarget.value})\r\n      }\r\n      handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        this.props.onSubmit(this.state.searchQuery)\r\n\r\n        this.setState({searchQuery: ''});\r\n      }\r\nrender() {\r\n    return (\r\n    <header className=\"Searchbar\">\r\n     <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n      <button type=\"submit\" className=\"SearchForm-button\">\r\n       <span className=\"SearchForm-button-label\">Search</span>\r\n      </button>\r\n\r\n    <input\r\n      value={this.state.searchQuery}\r\n      onChange={this.handleChange}\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n     </form>\r\n    </header>\r\n    )}}\r\n    \r\n    \r\n\r\nexport default Searchbar","import React from \"react\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, searchQuery, onClick}) => {\r\nreturn (\r\n    <li className=\"ImageGalleryItem\">\r\n  <img src={webformatURL} alt={searchQuery} onClick={onClick} data-src={largeImageURL} className=\"ImageGalleryItem-image\" />\r\n</li>\r\n)\r\n} \r\n\r\nexport default ImageGalleryItem","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\"\r\n\r\nconst ImageGallery = ({collection, searchQuery, onClick}) => {\r\nreturn (\r\n    <ul className=\"ImageGallery\">{collection.map(({id, webformatURL, largeImageURL}) => (\r\n     < ImageGalleryItem key={id} \r\n     webformatURL={webformatURL}\r\n     largeImageURL={largeImageURL}\r\n     searchQuery={searchQuery}\r\n     onClick={onClick} />\r\n     ))}\r\n    </ul>\r\n     )}\r\n\r\nexport default ImageGallery","import React from \"react\";\r\n\r\nconst Button = ({onClick}) => {\r\nreturn (\r\n    <div className=\"LoadMoreButton\">\r\n    <button onClick={onClick} type=\"button\" className=\"Button\">\r\n      Load more\r\n    </button>\r\n  </div>\r\n)\r\n}\r\nexport default Button","\r\nimport axios from \"axios\";\r\n\r\nconst amountRow = Math.floor(window.innerWidth / 360) * 3;\r\nconst apiKey = '23544458-47d8a7ce6c6a4e594a1925349';\r\n\r\nconst fetchCollection = ({searchQuery = '', currentPage = 1}) => {\r\n    return axios.get(`https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${amountRow}`\r\n    ).then(response => response.data.hits)\r\n}\r\n\r\nexport default  {fetchCollection} ","import React, { Component } from \"react\";\r\nimport {createPortal} from \"react-dom\"\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener(\"keydown\", this.handleKeyDown)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"keydown\", this.handleKeyDown)\r\n      \r\n    }\r\n    handleKeyDown = e => {\r\n        if(e.code === \"Escape\") {\r\n            this.props.onClose()\r\n        }\r\n    }\r\n    handleBackdropClick = e => {\r\nif (e.currentTarget === e.target) {\r\n    this.props.onClose();\r\n}\r\n    }\r\n\r\n    render() {\r\n        const {image} = this.props\r\n        return (\r\n        createPortal(\r\n<div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n  <div className=\"Modal\">\r\n    <img src={image.src} alt={image.searchQuery} />\r\n  </div>\r\n</div>, modalRoot)\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\n\r\nimport Searchbar from \"./components/Searchbar/Searchbar\"\r\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\"\r\nimport Button from \"./components/Button/Button\";\r\nimport newsApi from \"./services/NewsApi\"\r\nimport Modal from \"./components/Modal/Modal\"\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n  state = {\r\n    collection: [],\r\n    searchQuery: \"\",\r\n    currentPage: 1,\r\n    isLoading: false,\r\n    showModal: false,\r\n    image: {},\r\n\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n      const {searchQuery, image} = this.state;\r\n      if (prevState.searchQuery !== searchQuery) {\r\n        this.fetchCollection();\r\n      };\r\n      if (prevState.image !== image) {\r\n        this.toggleModal();\r\n      }\r\n    };\r\n\r\nonChangeQuery = query => {\r\n  this.setState({ searchQuery: query, currentPage: 1, collection: [] })\r\n}\r\nfetchCollection = () => {\r\n  const {currentPage, searchQuery} = this.state\r\n  const options = {searchQuery, currentPage}\r\n\r\n  this.setState({isLoading: true});\r\n\r\n     newsApi.fetchCollection(options).then(collection => {this.setState(prevState => ({\r\n      collection: [...prevState.collection, ...collection],\r\n      currentPage: prevState.currentPage + 1\r\n    }));\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }).finally(() => this.setState({isLoading: false}))\r\n};\r\nopenImage = ({target}) => {\r\n  this.setState({\r\n    image: {\r\n      searchQuery:this.state.searchQuery,\r\n      src: target.dataset.src,\r\n    }\r\n  })\r\n}\r\n\r\ntoggleModal = () => {\r\n  this.setState(({showModal}) => ({\r\n    showModal: !showModal\r\n  }))\r\n}\r\n render() {\r\n   const {collection, searchQuery, isLoading, showModal, image} = this.state\r\n\r\n    return (\r\n      <>\r\n\r\n      <Searchbar onSubmit={this.onChangeQuery}/>\r\n      <ImageGallery collection={collection} searchQuery={searchQuery} onClick={this.openImage}/>\r\n      {isLoading && <div className=\"lds-hourglass\"></div> }\r\n      {collection.length > 0 && (<Button onClick={this.fetchCollection}/>)}\r\n      {showModal && <Modal onClose={this.toggleModal} image={image}/>}\r\n      \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles.css\"\n\nReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n  );\n\n"],"sourceRoot":""}